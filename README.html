<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>Antoine PLANTIER LP SIGD IOTIA Module Objets Conectés —</p>
<h1 id="projet-dobjets-conectés-réseau-de-capteurs-communication-lora">Projet d’Objets Conectés : Réseau de capteurs Communication LoRa</h1>
<h2 id="introduction">Introduction</h2>
<h3 id="résumé">Résumé</h3>
<p>Dans le cadre du Module d’objets conectés, nous avions a faire un projet metant en oeuvre le protocole de communication <strong>LoRa</strong>. J’ai choisis de mettre en place un réseau de communication assurant un relevé de mesures et leurs utilisations dans un programe python.</p>
<p>Le projet consiste en un noeud collecteur <em>(Rx/receviver)</em> qui receptionne les données envoyées par différents noeuds emeteurs <em>(Tx/sender)</em>. Ces données sont traitées et stoquées par un programme en python. Celui ci offre différentes actions de traitement et d’interactions.</p>
<h3 id="materiel">Materiel</h3>
<p>Pour ce projet nous travaillons avec des arduino intégrant des modules <strong>LoRa</strong></p>
<p><a href="https://github.com/FabienFerrero/UCA_Board">Cf Page Web du module</a> + Les Modules Arduino utilisés https://www.arduino.cc/en/uploads/Main/Arduino-Pro-Mini-schematic.pdf https://cdn.sparkfun.com/assets/c/6/2/2/1/ProMini8MHzv2.pdf</p>
<p>Nous utilison également des capteurs :</p>
<ul>
<li>ky-015 temperature &amp; humidite</li>
</ul>
<p>https://tkkrlab.nl/wiki/Arduino<em>KY-015</em>Temperature<em>and</em>humidity<em>sensor</em>module https://arduinomodules.info/ky-015-temperature-humidity-sensor-module/</p>
<ul>
<li>ky-026 detecteur de flamme</li>
</ul>
<p>Voltage : 3.3 - 5.5V Spectre infrarouge détecté : 760 nm to 1100 nm</p>
<p>https://arduinomodules.info/ky-026-flame-sensor-module/ https://www.thegeekpub.com/wiki/sensor-wiki-ky-026-flame-ir-sensor/ https://www.arduinoforbeginners.com/ky-026-arduino-flame-ir-sensor/</p>
<h3 id="langages">Langages</h3>
<ul>
<li>C</li>
<li>Python</li>
<li>SQL</li>
</ul>
<h2 id="fonctionnement-général">Fonctionnement général</h2>
<p>Le module Recepteur <strong>Rx/receiver</strong> est conecté par le port série à l’ordinateur sur lequel tourne le programme en python.</p>
<p>Le module recepteur <strong>Rx</strong> est en écoute sur un canal du protocol LoRa. Lorsque un module emetteur <strong>Tx</strong> se connecte sur un canal, il s’authentifie auprès de <strong>Rx</strong>, dès lors, il peut lui envoyer les données qu’il collecte avec ses capteurs.</p>
<p>Ces données sont traitées par le software pour pouvoir les exploiter: elles sont datées, structurée et stockées. Le software permet par exemple de voir un graphique de l’évolution de la temperature actualisé dynamiquement, ou encore de faire des calculs : moyenne glissante, moyenne par jours … etc</p>
<p>Il existe également un mode d’urgence. Si un des modules ky-026 détecte une flamme, une interuption est générée sur le module émetteur qui se met donc en état d’alerte. la fréquence d’envoi des tramme est accéléré pour évaluer le danger, une alarme se met à sonner sur <strong>Tx</strong> et <strong>Rx</strong> et un email est envoyé pour avertir du dangers.</p>
<p>Voici le schéma général du projet.</p>
<figure>
<img src="/src/schem_General.png" alt="Projet Général" /><figcaption>Projet Général</figcaption>
</figure>
<h2 id="configuration-lora-des-modules">Configuration LoRa des modules</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb1-1" title="1">LoRa LoRa;</a>
<a class="sourceLine" id="cb1-2" title="2">LoRa.setTxPower(txPo, <span class="dv">1</span>);</a>
<a class="sourceLine" id="cb1-3" title="3">LoRa.setSpreadingFactor(spFa);</a>
<a class="sourceLine" id="cb1-4" title="4">LoRa.setSignalBandwidth(baWi);</a>
<a class="sourceLine" id="cb1-5" title="5">LoRa.setPreambleLength(prLe);</a>
<a class="sourceLine" id="cb1-6" title="6">LoRa.setSyncWord(CANAL);</a>
<a class="sourceLine" id="cb1-7" title="7">LoRa.enableCrc(); <span class="co">//activation du crc</span></a></code></pre></div>
<h2 id="les-modules-emeteurs-sender-tx">Les modules Emeteurs : Sender/ TX</h2>
<h2 id="le-module-recepteur-receiver-rx">Le module recepteur : Receiver/ Rx</h2>
<h2 id="le-software-en-python">Le Software en python</h2>
<p>##liens Utiles</p>
</body>
</html>
